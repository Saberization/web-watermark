"use strict";var _createClass=function(){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}!function(e,t){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!==module?module.exports=t():"function"==typeof define&&define.amd?define(t()):e.WaterMark=t()}(window,function(){var i={size:"30px",color:"#e1e1e1",id:"watermarkdrawcanvas",density:200,tip:"您的浏览器不支持 canvas"};return function(){function t(e){_classCallCheck(this,t),this.settings=Object.assign(i,e),this._createCanvas()}return _createClass(t,[{key:"_createCanvas",value:function(){var e=this.settings,t=document.createElement("canvas"),i=t.getContext("2d"),n=this._getPixelRatio(i);t.id=e.id,t.style.cssText="position: fixed; top: 0; left: 0; right: 0; bottom: 0; width: 100%; height: 100%; z-index: -100;",t.width=window.screen.width,t.height=window.screen.height,t.innerHTML=e.tip,t.width=window.screen.width*n,t.height=window.screen.height*n,this.canvas=t,this.ctx=i,this.ratio=n}},{key:"_getPixelRatio",value:function(e){var t=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/t}},{key:"render",value:function(e){this.clear(),this._createCanvas();var t=this.settings,i=parseInt(t.size,10),n=t.color,o=parseInt(t.density,10),a=this.ratio,r=this.ctx,s=window.screen.width*a/o+10,c=window.screen.height*a*1.5/o;r.rotate(-15*Math.PI/180);for(var l=0;l<s;l++)for(var d=0;d<c;d++)r.fillStyle=n,r.font=i+"px Arial",r.fillText(e,o*(l-5),d*o);window.document.documentElement.appendChild(this.canvas)}},{key:"clear",value:function(){var e=document.getElementById(this.settings.id);e&&1===e.nodeType&&(e.remove(),this.canvas=null,this.ctx=null)}}]),t}()});